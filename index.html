<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dla Ciebie ❤️</title>
    <style>
        body { margin: 0; overflow: hidden; background: black; font-family: 'Courier New', monospace; display: flex; justify-content: center; align-items: center; height: 100vh; color: white; }
        canvas { position: fixed; top: 0; left: 0; z-index: -1; }
        
        /* Start Screen */
        #startScreen { position: fixed; inset: 0; background: black; z-index: 100; display: flex; justify-content: center; align-items: center; }
        #startBtn { padding: 20px 40px; font-size: 22px; background: #ff4da6; color: white; border: none; border-radius: 15px; cursor: pointer; font-weight: bold; box-shadow: 0 0 20px rgba(255, 77, 166, 0.6); }

        .text-typing { position: absolute; width: 90%; text-align: center; font-size: 24px; color: #ff4da6; text-shadow: 0 0 10px rgba(255, 77, 166, 0.4); }
        
        /* Kontenery */
        #questionSection, #successSection { text-align: center; z-index: 10; width: 90%; max-width: 400px; display: none; }
        
        h1 { font-size: 20px; margin: 15px 0; }
        .big-love { font-size: 26px; color: #ff4da6; font-weight: bold; animation: pulse 1s infinite; margin-top: 15px; }
        
        button { padding: 12px 25px; font-size: 18px; border: none; border-radius: 12px; cursor: pointer; margin: 10px; font-weight: bold; }
        #yesBtn { background: #ff4da6; color: white; }
        #noBtn { background: #444; color: white; position: absolute; transition: 0.1s; }

        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .heart { position: absolute; font-size: 25px; pointer-events: none; z-index: 999; animation: floatUp 3s linear forwards; }
        @keyframes floatUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-100vh); opacity: 0; } }
        
        /* TUTAJ ZMIENIŁEM ROZMIAR ZDJĘĆ */
        img { 
            max-width: 80%; /* Zdjęcie zajmie max 80% szerokości telefonu */
            max-height: 300px; /* Nie będzie wyższe niż 300px */
            width: auto;
            height: auto;
            border-radius: 15px; 
            border: 2px solid #ff4da6; 
            box-shadow: 0 0 15px rgba(255, 77, 166, 0.4); 
        }
    </style>
</head>
<body>

<div id="startScreen">
    <button id="startBtn" onclick="startEverything()">KLIKNIJ TUTAJ SKARBIE ❤️</button>
</div>

<canvas id="starfield"></canvas>
<div id="typingArea" class="text-typing"></div>

<div id="questionSection">
    <img src="IMG_3395.JPEG" alt="Nasz skarb">
    <h1>Czy będziesz moją walentynką? ❤️</h1>
    <button id="yesBtn" onclick="acceptValentine()">TAK ❤️</button>
    <button id="noBtn" onmouseover="moveNo()" onclick="moveNo()">NIE :(</button>
</div>

<div id="successSection">
    <img src="IMG_3396.JPEG" alt="Nasz skarb 2">
    <div class="big-love">KOCHAM CIE MYSZKAAAA ❤️</div>
</div>

<audio id="music" src="music.mp3" loop preload="auto"></audio>

<script>
    const music = document.getElementById("music");
    const typingArea = document.getElementById("typingArea");
    const questionSection = document.getElementById("questionSection");
    const successSection = document.getElementById("successSection");
    const noBtn = document.getElementById("noBtn");

    function startEverything() {
        document.getElementById("startScreen").style.display = "none";
        music.play().catch(() => console.log("Muzyka ruszy po akcji"));
        runTypewriter();
    }

    const canvas = document.getElementById("starfield");
    const ctx = canvas.getContext("2d");
    let zoom = 1, stars = [];
    function initStars() {
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        stars = [];
        for(let i=0; i<250; i++) stars.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*1.3, o: Math.random()});
    }
    function drawStars() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.save(); ctx.translate(canvas.width/2, canvas.height/2); ctx.scale(zoom,zoom); ctx.translate(-canvas.width/2, -canvas.height/2);
        stars.forEach(s => { ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fillStyle=`rgba(255,255,255,${s.o})`; ctx.fill(); });
        ctx.restore(); zoom += 0.0004; requestAnimationFrame(drawStars);
    }
    initStars(); drawStars();

    const lines = [
        "Julus jestes moim najwiekszym skarbem",
        "nie wyobrazam sobie byc z kims innym",
        "jestes moim sloneczkiem, gwiazda",
        "i wszystkim co istnieje",
        "kocham cie najmocniej na swiecie",
        "i mam jedno pytanie..."
    ];
    let lineIdx = 0, charIdx = 0;
    function runTypewriter() {
        if (lineIdx < lines.length) {
            if (charIdx < lines[lineIdx].length) {
                typingArea.innerHTML += lines[lineIdx][charIdx];
                charIdx++; setTimeout(runTypewriter, 50);
            } else {
                setTimeout(() => { typingArea.innerHTML = ""; charIdx = 0; lineIdx++; runTypewriter(); }, 1500);
            }
        } else {
            typingArea.style.display = "none";
            canvas.style.filter = "blur(8px)";
            questionSection.style.display = "block";
        }
    }

    function moveNo() {
        const x = Math.random() * (window.innerWidth - 120);
        const y = Math.random() * (window.innerHeight - 60);
        noBtn.style.left = x + "px";
        noBtn.style.top = y + "px";
    }

    function acceptValentine() {
        questionSection.style.display = "none";
        successSection.style.display = "block";
        music.play();
        for(let i=0; i<60; i++) {
            setTimeout(() => {
                const h = document.createElement("div");
                h.innerHTML = "❤️"; h.className = "heart";
                h.style.left = Math.random()*100 + "vw"; h.style.top = "100vh";
                document.body.appendChild(h);
                setTimeout(() => h.remove(), 3000);
            }, i * 80);
        }
    }
    
    window.addEventListener("resize", initStars);
</script>
</body>
</html>
